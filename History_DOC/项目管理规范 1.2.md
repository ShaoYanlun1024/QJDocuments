# 项目管理规范 1.2

---

## 目录
- [项目命名规则](#项目命名规则)
- [版本号命名规则](#版本号命名规则)
- [项目结构](#项目结构)
- [分支功能](#分支功能)
- [Gitlab部署流程](#Gitlab部署流程)
- [Milestones和Issues](#Milestones和Issues)

---
## **项目命名规则**
**项目命名由质控组专人负责立项与项目命名**

**项目按业务领域划分，业务领域参见[《项目领域划分及Http状态码分配表》](http://git.allhome.com.cn/NetWorksDatas/Public/standard/blob/master/%E9%A1%B9%E7%9B%AE%E9%A2%86%E5%9F%9F%E5%88%92%E5%88%86%E5%8F%8AHttp%E7%8A%B6%E6%80%81%E7%A0%81%E5%88%86%E9%85%8D%E8%A1%A8%201.0.md)**

**项目命名规则：业务领域\_功能名称【\_后缀】**
1. `业务领域`缩写用`大写字母`，`功能名称`及`后缀`用`小写单词`，以`“_”（下划线）`分隔
2. `功能名称`必须使用英文，`不超过三个单词`
3. `后缀`类型说明（后缀`全部小写`）
    - 小程序：`miniapp`
    - 迷你精简版：`mini`
    - 移动端代码（Android）：`android`
    - 移动端代码（IOS）：`ios`
    - 前端代码（Vue及源生代码）：`web`
    - NodeJS代码：`node`
    - Java代码：`java`
    - Python代码：`python`

[**<p align="right">>>返回目录<<</p>**](#目录)

---


## **项目结构**
**源代码项目内必须有 `doc` 文件夹，且含有下列文件**
- 前端项目
  - ReadMe 
  - 流程图
  - 时序图
  - 设计图（静态图源文件）
  - 接口文档 
  - 需求文档
- 后端项目
  - ReadMe
  - 流程图
  - 时序图
  - 类图
  - 概要设计
  - 需求文档

```java
/*
  README.md （markdown格式）必须写明
  - 项目部署情况
  - 项目结构
  - 项目说明

  项目流程图、项目文档、设计文档等（内部gitlab上的，可以使用链接）

  外链，项目外文档，比如参考的wiki，使用链接。
  没有存放在公司gitlab上的，必须用图。
*/
```
    
[**<p align="right">>>返回目录<<</p>**](#目录)

---
## **版本号命名规则**
**版本号管理策略**
- 1、新项目立项进行开发时，版本号从`“0.1.0”`开始
- 2、当项目进行了局部修改或bug修复时，`主版本号`和`次版本号`不变，修正版本号按照局部修改和修复BUG数递增，每次发布不能超过`20个`修复/修改。
- 3、当项目在原有的基础上增加了部分功能时，`主版本号`不变，次版本号增加，`修正版本号`复位为`0`。每次迭代发布不能超过`5`个功能。
- 4、当项目进行了重大的修改或整体重构或局部修正累积较多而导致的项目整体发生变化，主版本号加 1，`次版本号`和`修正版本号`复位为`0`。
[**<p align="right">>>返回目录<<</p>**](#目录)
---




## **分支功能：**
- dev分支----供开发人员用来开发、测试
- master分支----通过与dev分支合并以后，发布到联通服务器
- release分支----通过与master分支合并以后，发布阿里线上服务器。
[**<p align="right">>>返回目录<<</p>**](#目录)
---


## **Gitlab部署流程**
- 1、`主程序员`及以上权限用户有`分支`操作权限
- 2、`开发人员`接到`需求组`需求以后，在Gitlab上先`创建阶段性里程碑`
`开发人员`进行开发时，将代码提交到`dev分支`，并添加`Tags`标签（记录版本号）；
打Tags标签的好处：便于查询哪个版本的问题，便于问题版本进行回滚。

`当达到一定阶段后`，然后提出`dev和master的合并`请求，每一次请求的合并`需注识其合并的目的`。
若只是想`查看代码的效果`则将后端调用的`接口修改`为内网的192.168.0.200+端口（后端调用的内网接口暂定）
请求地址为内网的200服务器。并提交合并请求
- 3、`运维`人员同意合并请求后，将项目部署到200的`内网服务器`。
部署无误后，通知开发人员及测试人员进行项目测试。
- 4、`测试`阶段：需添加`阶段性里程碑`。进行测试，确保项目不会出现问题
若测试阶段性里程碑`完成`后（关闭测试结束的里程碑），master分支测试结果`汇报领导`，领导批准后，`通知开发和运维`人员测试无误，可以进行项目部署。
若测试时`出现问题`（视简单的代码问题），则通知开发人员，进行代码修改
若测试时出现问题（视严重问题），`严重：通知运维对项目下架/版本回滚`
- 5、`测试无误`后，然后`运维`人员修改gitlab-ci.yml文件，将项目`部署到联通服务器`，并分配域名。然后将域名`发送给开发人员`。
- 6、此时`开发`需把`后端调用的接口`修改为域名地址。（运维人员分配的`域名地址`）
`项目开发完成`（所有里程碑完成），然后通知`测试`人员进行`整体测试`。
- 7、`测试`人员进行整体`测试无误`后，将测试结果`汇报领导`，领导`批准`后，通知开发和运维人员。`测试无误`，可以进行release`部署`。
- 8、整体测试通过后，`开发人员`请求并通知`master与release分支合并`。
- 9、`运维`人员向`领导确认`可以部署到线上以后，然后进行`合并`。项目部署成功。

==！！！注：==
`开发`和`测试`人员必须要写阶段性里程碑，每次请求的合并要`标注其目的`。
当`完成阶段性测试`和目标时，要记得`关闭`已完成的阶段性`里程碑`
`开发人员`不可跳过`测试`直接让运维进行项目部署
`运维`人员必须向领导`确认`可以部署后，再进行部署。

[**<p align="right">>>返回目录<<</p>**](#目录)

---



版本号命名规则：
<version>	0.0.1-SNAPSHOT	</version>
第一个数字代表大版本：比如对项目做了一个大的重构		1.0.1
第二个数字代表分支版本：比如项目在开发过程中有一个重大的功能升级或者核心功能的改造	0.1.1
第三个数字代表小版本：比如项目中出现了小bug，或者特别小的功能的开发。	0.0.2


## **Milestones和Issues**
- `里程碑（Milestones)`分为“`群组里程碑`”与“`项目里程碑`”，从项目立项（建立项目群组）开始，创建“`项目里程碑`”。
    - 1、有需求提出（或新Idea），立项，并由`需求人员`建立`需求里程碑`
    - 2、在需求交付后，由`交互设计`建立`交互里程碑`
    - 3、`项目开发负责人（主程序员）`在项目预演时建立`开发里程碑`【可以按项目阶段建立多个里程碑】
    - 4、里程碑`描述文字`尽可能的`简短精练`
    - 5、每个里程碑都要明确填写`开始结束日期`
- `问题（Issues）`用于测试人员对项目问题的反馈，以及待讨论的问题
    - 1、`问题`必须从属于一个`里程碑`
    - 2、`问题`必须指派`处理人`
    - 3、问题`标记`分为四类：**`优先级`、`严重度`、`进度`、`版本号`**。组合使用
    - 4、问题必须指定`截止日期`
    - 5、`问题描述`，要`清晰、简洁`，推荐使用“`图文并茂`”的形式

[**<p align="right">>>返回目录<<</p>**](#目录)