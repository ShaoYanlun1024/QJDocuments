# **版本号管理控制规范--网络技术部内部资料 1.1**
**<p align="right">--（V1.1（2018-9））</p>**

**为规范网络部生产、产品发布、资料管理，编制此《版本号管理控制规范》。**

我们依据国际主流的惯例，使用【语议化版本（SemanticVersioning）】的命名方式，简称SemVer。并加以调整，以便于更加适用于我们团队。

**适用范围**：团队公共资料；产品（项目）的需求分析、交互设计、测试报告、部署记录的图像、文字等资料；产品（项目）的源代码、编译产出。

> 举例说明：
>  - **团队公共资料**：GitLab使用规范、版本号控制管理规划、开发规范等；
>  - **产品（项目）资料**：项目需求分析文档、UI设计图、测试报告等；
>  - **程序源代码**：源代码合并到Dev分支、Master分支、Release分支时的Tags标记版本号。

## **版本号命名格式**
- 格式：<font color=red>**Major_Version_Number.Minor_Verion_Number[.Patch_Number]**</font>
- 说明：主版本号.次版本号[.修正版本号]（使用三位正整数，以点号“.”连接。可以简记为：<font color=red>**X.Y[.Z]**</font>）

## **约定**
- <font color=red>**Major**</font>表示`主版本号`，当项目架构变化、整体重构、API的兼容性变化时，Major递增。（具有相同名称但不同主版本号的程序集不可互换。<font color=Magenta>**一般不兼容前一个主版本号**</font>。例如，这适用于对产品的大量重写，这些重写使得无法实现向后兼容性。）
- <font color=red>**Minor**</font>表示`次版本号`，当增加/修改功能时（不影响项目架构、API的兼容性），Minor递增。（如果两个程序集的名称和主版本号相同，而次版本号不同，这指示显著增强，但照顾到了向后兼容性。<font color=Magenta>**必须是向后兼容的**</font>。例如，这适用于产品的修正版本或完全向后兼容的新版本。）
- <font color=red>**Patch**</font>表示`修正版本号`，当做Bug修复或局部修改时（不影响项目架构、API的兼容性），Patch递增。（名称、主版本号和次版本号都相同，但修正版本号不同的程序集是完全可以互换的。这适用于修复以前发布的程序集中的功能或漏洞。）

## **版本号管理策略**
1. 新项目立项进行开发时，版本号从<font color=red>“**0.1.0**”开始</font>。
2. 当项目进行了局部修改或bug修复时，`主版本号`和`次版本号`不变，<font color=red>修正版本号</font>按照局部修改和修复BUG数递增，每次发布不能超过`20`个修复/修改。
3. 当项目在原有的基础上增加了部分功能时，`主版本号`不变，<font color=red>次版本号</font>增加，`修正版本号`复位为` 0 `。每次迭代发布不能超过`5`个功能。
4. 当项目进行了重大的修改或整体重构或局部修正累积较多而导致的项目整体发生变化，<font color=red>主版本号</font>加 <font color=red>**1**</font>，`次版本号`和`修正版本号`复位为` 0 `。

## **资料文件命名参考**
**文件命名参考特指公用资料、项目中的需求、测试报告、部署记录等单文档资料。**

**文件名格式：<font color=red>[项目名称-]文档类型 当前项目版本号_阶段标识</font>**

>**示例：**
>
>- **项目资料**：统一认证平台-需求文档 1.9_定稿；人脸识别-测试报告 1.2.3；
> - **公共资料**：代码评审流程规范 1.0；GitLab使用规范 1.1.0；前端开发规范 1.0.5_讨论；

---

## **注意事项**
- 版本号前不要加“V”
- 不要在数字前补“0”。（<font color=red>***错误示例***：*01.23.04*</font>）
- 主版本号按照+1的速度递增，不要在版本号之间跳跃。
- **如果发行的版本号使用错误，应该发行一个新的次版本号来更正这个问题，并且恢复向下兼容。注意不能去修改已发行的版本号**。

## **如何判断一个修改应该改动的版本号位？**
- 对于【修改了图标】这件事来说，如果只是调整了图标的间距位置，那么可以认作问题修复；如果把整个图标都换了，配上了不同的标语，那么这应该是一次功能改动。 
